{% extends 'summer_fun/base.html' %}
{% load static %}
{% block content %}


<h4> Schedule for {{ student }} </h4>

{% if student_classes %}
    <table class="table">
        <thead>
            <tr>   
                <th scope="col">Session Number</th>
                <th scope="col">Activity Name</th>
            </tr>
        </thead>
        <tbody>
        
        {% for e in student_classes.all %}
            <tr>
                <td >{{ e.session }}</td>  
                <td >{{ e.activity.activity_name }}</td>               
            </tr>
        {% endfor %}  
        </tbody>
    </table>
{% else %}
    <h3>Select classes here</h3>
    {{ student }}

    <!--student can select an activity for each session-->
    <form method="POST" action="{% url 'student_details' student.pk %}" enctype="multipart/form-data">
    {% csrf_token %}
    {% for session in sessions %}
        {% for field in schedule_form %} 
            {{ session }}
            {{ field }}
        {% endfor %}
                <br>   
    {% endfor %}
    <button type="submit">Save Schedule</button>
    </form>

{% endif %}

<form action="{% url 'edit_schedule' student.pk  %}" method="GET" >
    <div>
    {% csrf_token %} <!--cross site request forgery token-->
    {{ form.as_p }}<!--line between each item on form-->
    </div>
   <button type='submit' class='edit'> Edit Schedule</button>
</form>

{% endblock %}